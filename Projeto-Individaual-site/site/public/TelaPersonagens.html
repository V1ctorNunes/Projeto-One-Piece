<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./css/style-person.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
  <script src="js/script-personagem.js"></script>
  <link rel="icon" href="./assets/bandeira-luffy-removebg-preview.png">
  <title>Bando do Luffy</title>
</head>
<body>
  <!-- INICIO VIDEO DE FUNDO DA TELA -->
  <div id="background">
    <video loop muted autoplay>
      <source src="./assets/abertura-onepiece-atualizado.mp4">
    </video>
  </div>
  <!-- FINAL -->

  <div id="app">
    <header>
      

      <ul class="navigation">
        <li>
          <a href="index.html" class="navigation__link">Home</a>
        </li>
        <li>
          <a href="TelaPersonagens.html" class="navigation__link">Personagens</a>
        </li>
        <li>
          <a href="TelaSobre.html" class="navigation__link">Sobre o Projeto</a>
        </li>
        <li id="ranking">
          <a href="ranking.html" class="navigation__link">Ranking</a>
        </li>
      </ul>

      <div class="navigation_login_and_cadastro" id="login_and_cadastro">  
        <div class="button_login">
          <a href="TelaLogin.html">Login</a>
        </div>
        <div class="button_cadastro">
          <a href="./TelaCadastro.html">Cadastro</a>
        </div>
        <p class="perfil esconder">
          <a href="">
          <span> Perfil </span>
          <i class="bi bi-person-circle"></i>
          </a>
        </p>
      </div>
    </header>

    <!-- cardBox -->
    <main> 

    <p class="title-bando">
    Bando do Monkey D. Luffy <img src="./assets/bandeira-luffy-removebg-preview.png" alt="">
    <p class="line"></p>
    </p>

    <div class="containerCards" id="cards1">
        <div class="style-cards luffy" onclick="luffy()" id="luffy">
          <p>Monkey D. Luffy</p> <br>
          <img class="person-img" src="./assets/bando-img/luffy.jpeg" alt="Luffy">
        </div>

        <div class="style-cards zoro" onclick="zoro()" id="zoro">
          <p>Roronoa Zoro</p> <br>
          <img class="person-img" src="./assets/bando-img/zoro.jpg" alt="Zoro">
        </div>

        <div class="style-cards nami" onclick="nami()" id="nami">
          <p>Nami</p> <br>
          <img class="person-img" src="./assets/bando-img/nami.png" alt="Nami">
        </div>

        <div class="style-cards ussop" onclick="usopp()" id="ussop">
          <p>Ussop</p> <br>
          <img class="person-img" src="./assets/bando-img/ussop.jpg" alt="Ussop">
        </div>
    </div>

    <div id="historia_person" class="historia"> 
      <button onclick="fechar()" id="fechar_button" class="fechar">
        X
      </button>
      <h2 class="title-card" id="personagem_nome"></h2>
      <div class="containerHistoria" id="conteudo">
      </div>
    </div>

    <div class="containerCards" id="cards2">
      <div class="style-cards sanji" onclick="sanji()" id="sanji">
        <p>Sanji</p> <br>
        <img class="person-img" src="./assets/bando-img/sanji.jpg" alt="Sanji">
      </div>

      <div class="style-cards chopper" onclick="chopper()" id="chopper">
        <p>Tony Tony Chopper</p> <br>
        <img class="person-img" src="./assets/bando-img/chopper.jpg" alt="Chopper">
      </div>

      <div class="style-cards Robin" onclick="robin()" id="robin">
        <p>Nico Robin</p> <br>
        <img class="person-img robin" src="./assets/bando-img/Nico Robin.jpg" alt="Robin">
      </div>

      <div class="style-cards Franky" onclick="franky()" id="franky">
        <p>Franky</p> <br>
        <img class="person-img" src="./assets/bando-img/Franky.jpg" alt="Franky">
      </div>
    </div>

    <div class="containerCards" id="cards3" >
      <div class="style-cards Brook" onclick="brook()" id="brook">
        <p>Brook</p> <br>
        <img class="person-img" src="./assets/bando-img/Brook.jpg" alt="Brook">
      </div>

      <div class="style-cards Jinbe" onclick="jinbe()" id="jinbe">
        <p>Jinbei</p> <br>
        <img class="person-img" src="./assets/bando-img/Jinbei.jpg" alt="Jinbe">
      </div>

      <div class="style-cards Yamato" onclick="yamato()" id="yamato">
        <p>Yamato</p> <br>
        <img class="person-img" src="./assets/bando-img/Yamato.jpg" alt="Yamato">
      </div>

      <div class="style-cards vivi" onclick="vivi()" id="vivi">
        <p>Nefertari Vivi</p> <br>
        <img class="person-img" src="./assets/bando-img/Nefertari Vivi.jpg" alt="Vivi">
      </div>
    </div>
    </main>
  </div>

  <footer> 
    <div class="footer__info">
      <p>
        Aqui está minha redes sociais caso queira reportar algum bug ou erro.
      </p>
    </div>

    <div class="footer__social">
      <a class="icon-wpp"><i class="bi bi-whatsapp"></i></a>
      <a class="icon-instagram"><i class="bi bi-instagram"></i></a>
      <a class="icon-gitHub"><i class="bi bi-github"></i></a>
      <a class="icon-linkedin"><i class="bi bi-linkedin"></i></a>
    </div>

    <div class="email">
      <p>Mande um E-mail <br>
        <div class="icon-email">
          <input type="email"> <a> <i class="bi bi-envelope"></i></a>
        </div>  
      </p>
    </div>
  </footer>
</body>
</html>

<script>


function fechar() {

  var display = document.getElementById("historia_person").style.display = 'none'
  var cards1 = document.getElementById("cards1").style.display = 'flex'
  var cards1 = document.getElementById("cards2").style.display = 'flex'
  var cards1 = document.getElementById("cards3").style.display = 'flex'
  

}

var idUsuario = sessionStorage.ID_USUARIO
  validacao()


  function validacao() {
    var login = document.querySelector('.button_login')
    var cadastro = document.querySelector('.button_cadastro')
    var perfil = document.querySelector('.perfil')
    var ranking = document.getElementById('ranking')

  if (idUsuario == undefined) {
    login.classList.remove('esconder')
    cadastro.classList.remove('esconder')
    ranking.classList.add('esconder')
    perfil.classList.add('esconder')

    } else {

        fetch("/usuarios/validacao", {
            method: 'GET'
        }).then(function (resposta) {

            if (resposta.ok) {
                if (resposta.status == 204) {
                    console.log("nenhuma resposta encontrada")
                }

                resposta.json().then(function (resposta) {
                    console.log("Dados recebidos: ", JSON.stringify(resposta));

                    login.classList.add('esconder')
                    cadastro.classList.add('esconder')
                    perfil.classList.remove('esconder')
                    ranking.classList.remove('esconder')

                

                    // for (var i = 3; i < resposta.length; i++) {
                    //     var user = resposta[i];

                    //     otherPlayersList.innerHTML += `${i + 1}º lugar <div class="ranking-item"> <h3>${user.nickname}</h3> 
                    // <p> ${user.pontos} </p> </div> <br> `
                    // }

                });
            } else {
                throw ('Houve um erro na API!');
            }
        }).catch(function (resposta) {
            console.error(resposta);

        });
      }

    }
</script>