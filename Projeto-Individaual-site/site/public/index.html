<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./css/style-home.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
  <link rel="icon" href="./assets/bandeira-luffy-removebg-preview.png">
  <title>Home</title>
</head>
<body>
  <!-- INICIO VIDEO DE FUNDO DA TELA -->
  <div id="background">
    <video loop muted autoplay>
      <source src="./assets/abertura-onepiece-atualizado.mp4">
    </video>
  </div>
  <!-- FINAL -->

  <div id="app">
    <header>
      

      <ul class="navigation">
        <li>
          <a href="index.html" class="navigation__link">Home</a>
        </li>
        <li>
          <a href="TelaPersonagens.html" class="navigation__link">Personagens</a>
        </li>
        <li>
          <a href="TelaSobre.html" class="navigation__link">Sobre o Projeto</a>
        </li>
        <li id="ranking">
          <a href="ranking.html" class="navigation__link">Ranking</a>
        </li>
      </ul>

      <div class="navigation_login_and_cadastro">  
        <div class="button_login ">
          <a href="./TelaLogin.html">Login</a>
        </div>
        <div class="button_cadastro ">
          <a href="./TelaCadastro.html">Cadastro</a>
        </div>
        <p class="perfil esconder">
          <a href="perfil.html">
          <span> Perfil </span>
          <i class="bi bi-person-circle"></i>
          </a>
        </p>
      </div>
    </header>


    <!-- MAIN -->
    <main>
      <div class="main-info">
        <img src="./assets/onepiece.png" width="430px">

        <p>
          Esse é o meu Projeto-Individual sobre One Piece, clicando no botão abaixo você será direcionado para um quiz com o tema do Projeto, se quiser saber mais sobre o meu Projeto, e o porque eu escolhi esse tema, aperte <a class="sobreProjeto" href="TelaSobre.html">AQUI</a> ou acesse "Sobre o Projeto" no menu Superior.
        </p>

        <div>
          <a href="TelaQuiz2.html">Quiz</a>
        </div>
      </div>
      <img src="./assets/bando-luffy-PhotoRoom.png-PhotoRoom.png" width="600px">
    </main>
  </div>

  <footer> 
    <div class="footer__info">
      <p>
        Aqui está minha resdes sociais caso queira reportar algum bug ou erro.
      </p>
    </div>

    <div class="footer__social">
      <a class="icon-wpp"><i class="bi bi-whatsapp"></i></a>
      <a class="icon-instagram"><i class="bi bi-instagram"></i></a>
      <a class="icon-gitHub"><i class="bi bi-github"></i></a>
      <a class="icon-linkedin"><i class="bi bi-linkedin"></i></a>
    </div>

    <div class="email">
      <p>Mande um E-mail <br>
        <div class="icon-email">
          <input type="email"> <a> <i class="bi bi-envelope"></i></a>
        </div>  
      </p>
    </div>
  </footer>
</body>
</html>

<script>

  var idUsuario = sessionStorage.ID_USUARIO
  validacao()


  function validacao() {
    var login = document.querySelector('.button_login')
    var cadastro = document.querySelector('.button_cadastro')
    var perfil = document.querySelector('.perfil')
    var ranking = document.getElementById('ranking')

  if (idUsuario == undefined) {
    login.classList.remove('esconder')
    cadastro.classList.remove('esconder')
    ranking.classList.add('esconder')
    perfil.classList.add('esconder')

    } else {

        fetch("/usuarios/validacao", {
            method: 'GET'
        }).then(function (resposta) {

            if (resposta.ok) {
                if (resposta.status == 204) {
                    console.log("nenhuma resposta encontrada")
                }

                resposta.json().then(function (resposta) {
                    console.log("Dados recebidos: ", JSON.stringify(resposta));

                    login.classList.add('esconder')
                    cadastro.classList.add('esconder')
                    perfil.classList.remove('esconder')
                    ranking.classList.remove('esconder')

              

                });
            } else {
                throw ('Houve um erro na API!');
            }
        }).catch(function (resposta) {
            console.error(resposta);

        });
      }

    }
</script>